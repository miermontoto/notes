# Servlets
![[_resources/1_Servlets.pdf]]
## Definiciones

> [!info] Servlets
> Programa en Java que acepta peticiones HTTP y genera respuestas utilizando el protocolo HTTP.

> [!info] Servidores de aplicaciones
> Programa que provee la infraestructura necesaria para aplicaciones web empresariales.

---
## Ciclo de vida
![[_resources/Pasted image 20230912163244.png]]

## Ámbitos de las variables / Parámetros
| Request                                                | Sesión                                                  | Contexto                                           |
| ------------------------------------------------------ | ------------------------------------------------------- | -------------------------------------------------- |
| - Solo vigente mientras se realiza la petición         | - Vigente mientras no se destruya la sesión             | - Vigente durante la ejecución de todo el proyecto |
| - Solo el Servlet que procesa la petición ve los datos | - Solo el Servlet que procesa la petición ve los datos | - Todos los servlets comparten su información                                                   |

**Cookie:** identificador único que almacena la información sobre un usuario en la que se guardan las sesiones.

### Vida de las variables
![[_resources/Pasted image 20230912163857.png]]

---

# JSP
![[_resources/2_JSP.pdf]]

## Definiciones
> [!info] Java Server Pages (JSP)
> Tecnología construida sobre servlets que facilita la creación de páginas webs dinámicas al combinar código HTML con elementos especiales. *Resuelven el problema de salida de los servlets.*

---

## Elementos de JSP
- **Scripting:** permiten insertar código que será ejecutado en el momento de la petición.
	- `<% ... %>` *Scriptlet:* encierra código Java.
	- `<%= ... %>` *Expresión:* accede a valores y los imprime en la web.
	- `<%! ... %>` *Declaración:* declara variables y métodos.
	- `<%-- ... --%>` *Comentario*
- **Directivas:** permiten especificar información acerca de la página que permanece constantes para todas las peticiones.
	- `<%@ page ... %>` permite importar clases, especificar el timpo de respuesta, etc.
	- `<%@ include ... %>` permite incluir otros ficheros antes de que la página sea traducida a servlet.
	- `<%@ taglib ... %>` declara una biblioteca de etiquetas con acciones personalizadas.
- **Acciones:** determinan acciones que ejecutar sobre la información que se requiere en la petición.
	- `<jsp:useBean>` permite utilizar un Bean.
	- `<jsp:getProperty>`, `<jsp:setProperty>` modifica la propiedad de un Bean.
	- `<jsp:include>` Incluye la respuesta de un servlet o página JSP.
	- `<jsp:forward>` redirige a otro servlet o página JSP.
	- `<jsp:param>` envía un parámetro a una petición redirigida.
