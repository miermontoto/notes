![[_resources/Tema 1. Introducción. Servicios básicos.pdf]]

---

**Capas**
![[_resources/Pasted image 20230912173301.png]]

> [!faq] Pregunta posible de examen
> Una petición no es válida si contiene caracteres no ASCII puro como tildes u otros símbolos.
> Para corregir una cadena, se debe utilizar `urllib.parse.quote(petition)`.


```python
# Intento (mal) de pedir geolocalización de una calle
host = "us1.locationiq.org" 
calle = "Campus de Viesques, Gijón" 

peticion = "GET " 
peticion += "/v1/search.php?key=pk.dc05..." 
peticion += "&format=json&q=" + calle 
peticion += " HTTP/1.1\r\n" 
peticion += "Host: " + host + "\r\n\r\n" 

import socket 
s = socket.socket() 
s.settimeout(2) 
s.connect((host, 80)) 
a_enviar = peticion.encode("utf8") 
s.send(a_enviar) 
respuesta = s.recv(32000) 
print(respuesta.decode("utf8"))

# Petición HTTP inválida
```

# Nivel de Internet (IP)
A este nivel, cada máquina se identifica por una IP. El nivel se ocupa de hacer llegar un paquete de un nodo a otro, enrutándolo por los nodos intermedios. El paquete transportable tiene un tamaño máximo de 64k, aunque se puede limitar más mediante MTU, que lo fragmenta o lo descarta. Los paquetes se pueden perder.