# Introducción
> [!info] Definición
> Servicios cuyo cliente se ejecuta en un dispositivo móvil.

**Características que lo hacen único:**
- Ancho de banda y consumo limitados.
- Memoria y espacio de almacenamiento limitados.
- Autonomía limitada
- Conexión a la red no fiable
- A menudo la IP es privada
- Interfaz y escala diferente
- Sensores y conexiones diferentes disponibles

# SO
**¿En qué se diferencia un OS móvil de uno convencional?**
- <u>Acceso al hardware</u>: cada aplicación declara de antemano qué partes del hardware necesita. El usuario debe autorizarlo. Un intento de acceder a otro hardware es impedido por el SO.
- <u>Planificación de tareas</u>:
	- La multitarea está muy limitada
	- El SO puede eliminar tareas de la memoria si no están en primer plano
	- La ejecución de tareas en background es compleja y restrictiva.

**Ciclo de vida de una aplicación**
- Una aplicación "en primer plano" es la que interactúa con el usuario (**solo una en cada momento**)
- Cuando una aplicación pasa a segundo plano, se detiene su ejecución.
	- El usuario no suele notarlo porque guardan/restauran su estado.
- Una aplicación en segundo plano puede ser finalizada por el operativo si necesita memoria.
- Si se necesita ejecutar código en segundo plano, debe programarse de forma específica para ello.

> [!warning] Importante en relación a los servicios web
> La aplicación puede ser interrumpida o incluso eliminada mientras una transacción de red estaba *a medias*.


***iOS: Estados y transiciones***
![[_resources/Pasted image 20231128173156.png]]

![[_resources/Pasted image 20231128173205.png]]

***Android: Componentes***
La actividad pasa por varios estados. El sistema usa *callbacks* para notificar a la actividad sobre cuándo entra en un nuevo estado.

![[_resources/Pasted image 20231128174323.png]]

***Android: Estados y transiciones***
![[_resources/Pasted image 20231128173442.png]]

![[_resources/Pasted image 20231128173554.png]]

***Android: Procesos***
Concepto igual en Unix.
- En el dispositivo se están ejecutando siempre varios procesos.
- Una aplicación se ejecuta dentro de un proceso (raramente podrá usar varios)
	- El proceso ejecuta una JVM (UID diferente al de la App)
	- Todos los componentes de la aplicación se ejecutan en el mismo proceso
	- Pueden tener varios hilos
- Si el OS detiene y elimina un proceso, todos los componentes de la App mueren.

Cada proceso puede contener varios hilos para ejecutar simultáneamente diferentes funciones de un mismo o diferentes componentes.

***Android: Eliminación de procesos***
Android tiene un algoritmo sofisticado para ordenar los procesos por imporancia, teniendo en cuenta qué componente de la aplicación está procesando y su relación con otras aplicaciones.
- Procesos *foreground* (actividades visibles, servicios enlazados a ellas, receptores broadcast recibiendo)
- Procesos *visibles* (actividades pausadas y servicios enlazados a ellas)
- Procesos *de servicio* (servicios no enlazados a actividades)
- Procesos *background* (actividades )