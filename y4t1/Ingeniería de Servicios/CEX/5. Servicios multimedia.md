# Introducción
Dos tipos:
- No interactivos
	- El usuario consume el servicio sin interactuar con él
	- Desde el punto de vista de la ingeniería de servicios, es un problema de transmisión de archivos.
	- Problemas nuevos: streaming, sincronización, formatos, códecs...
- Interactivos
	- El usuario interactúa con otro usuario, mediante contenido multimedia, generalmente en tiempo real.
	- Ejemplo: VoIP, videoconferencias...
	- Son necesarios nuevos protocolos (presencia, inicio de sesión, transporte...)

## Aspectos a estudiar
- Representación de la información multimedia
	- Imagen estática
	- Audio
	- Vídeo
- Compresión (códecs)
	- Guerra de códecs, estándares
- Contenedores
- Protocolos de transmisión

# Información multimedia
## Imagen
Dos formas de representación:
- **Mapa de bits** *PNG, JPG, TIFF, WEBP*
	- Array de puntos (*pixels*)
	- Cada pixel almacena un color usando *n* bits
	- El color se expresa por componentes RGB
- **Vectorial** *SVG*
	- Lista de objetos (primitivas) → círculo, recta, arco... con atributos (tamaño, color, origen, fondo, grosor...)
	- Independiente de la resolución

## Vídeo
Secuencia de frames → cada frame es un mapa de bits.

El tamaño depende de: 
- Tamaño de cada frame
- Número de frames por segundo
- La duración del vídeo

*bitrate → bits por segundo*. Depende de:
- Tamaño de cada frame
- El frame rate

### Compresión
- Intra-frame *ej. JPEG*
	- Cada frame se comprime por separado
	- Explota la redundancia espacial en cada frame
- Inter-frame
	- Existe también redundancia temporal
	- Tener en cuenta los frames seguidos
	- Se pueden codificar solo las diferencias entre frames

**Tipos de frame**
- I-frame (intra-coded): usa el mismo algoritmo de compresión que una imagen fija. No necesita otros frames para decodificarse.
- P-frame (predicted): codifica solo los cambios respecto al frame anterior.
- B-frame (bi-predictive): codifica los cambios con respecto al frame anterior y el siguiente → mayor compresión que el P-frame.

![[_resources/Pasted image 20231212171214.png]]

**Algoritmos de compresión**
> [!note] Irrelevante
> Cultura general

*antiguos*
- MPEG-1 Part 2 (VHS)
- MPEG-2 Part 2 (DVD, BluRay)
- MPEG-4 Part 2 (DivX, Xvid, Nero)
- Theora → OpenSource, basado en VP3
- VP6 (Adobe Flash y JavaFX)

*modernos*
- MPEG-4 Part 10 (AVC) → H.264
- VP8 → WebM
- HEVC → sucesor de MPEG-4, estandarizado como H.265
- VP9 → sucesor de VP8, mejora su compresión
- AV1 → incorpora VP10, *state of the art, royaltie-free* ES EL FUTURO 

## Audio
- Periodo de muestreo
	- El doble de la frecuencia más alta que se quiera retener
	- El oído humano capta hasta 20KHz
	- El estandar actual es 44.1KHz
- Bits de resolución
	- Cuantos más bits, mayor fidelidad pero mayor tamaño
	- Valor típico: 16 bits

> [!info] 44.1KHz + 16 bits = CD quality

**Bitrate y tamaño**
Al igual que en vídeo, existe el concepto de bitrate → bits por segundo.
Depende de:
- Frecuencia de muestreo
- Bits en cada muestra
- Número de canales (mono/estéreo)

**Compresión**
*sin comrpesión*
- PCM (wav, AIFF, CD)

*con compresión sin pérdida*
- FLAC
- APE
- WMA9 lossless
- ALAC

*con compresión con pérdida*
- MPEG-1 Audio Layer III (MP3)
- MPEG-2 Part 7 (AAC)
- WMA
- Vorbis (~AAC)
- MPEG-4 Part 3 (HE-AAC)
- Opus (sucesor de Vorbis)

## Contenedores digitales
Formato de archivo que contiene uno o varios *streams* de audio o vídeo y otros datos, junto con información sobre cómo sincronizarlos.

Pueden contener:
- Un stream de vídeo (sin sonido)
- Un stream de audio con la versión original del mismo
- Otro stream de audio con el doblaje a otro idioma
- Un stream de subtítulos

Cada stream de audio/vídeo requiere el códec apropiado para su descodificación. El contenedor es independiente de los códecs.

**Contenedores habituales**
- avi (audio video interface)
- flv (flash video)
- mkv (matrovska)
	- mp4 → m4a cuando es solo audio
- ogg
- mov (quicktime)
- webm